= simple_form_for @filter, as: :filter, url: warehouse_reports_initiatives_path, html: { method: :post, class: 'jFilter' } do |f|
  - content_for :filters_col do
    .row.w-100.mb-6
      .col-md-4
        = f.input :initiative_name
    .row.w-100.mb-6
      .col-md-4
        = f.input :project_ids, collection: GrdaWarehouse::Hud::Project.options_for_select(user: current_user), as: :grouped_select, group_method: :last, input_html: {multiple: true, class: 'select2'}, label: 'Projects'
      - if can_edit_project_groups?
        .col-md-4
          = f.input :project_group_ids, collection: GrdaWarehouse::ProjectGroup.pluck(:name, :id), input_html: {multiple: true, class: 'select2'}, label: 'Project Groups'
      .col-md-4
        = f.input :sub_population, collection: GrdaWarehouse::WarehouseReports::Dashboard::Base.available_sub_populations, label: 'Population', include_blank: false, input_html: {class: 'select2'}
    .row.w-100
      .col-lg-6
        %h4 Date Range
        .row
          .col-md-6
            = f.input :start, as: :date_picker
          .col-md-6
            = f.input :end, as: :date_picker
      .col-lg-6
        %h4 Comparison Date Range
        .row
          .col-md-6
            = f.input :comparison_start, as: :date_picker, label: 'Start'
          .col-md-6
            = f.input :comparison_end, as: :date_picker, label: 'End'

  - content_for :filter_actions do
    = f.button :submit, value: 'Queue Report', data: { disable_with: 'running...' }

  = render 'warehouse_reports/filters', f:f
