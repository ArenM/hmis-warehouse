- rows = @report.report_data
- dates = rows.keys
- if rows.present?
  %table.table
    %thead
      %tr
        %th Date
        %th.text-center Street
        %th.text-center Shelter
        %th.text-center Doubled Up
        %th.text-center Temporary
        %th.text-center Permanent
    %tbody
      - dates.sort.each do |date|
        - body = rows[date]
        %tr
          %td= date
          %td.text-center
            - group = body[:street]
            = link_to_if group[:active_ids].present?, "#{group[:active_ids].count} of #{group[:patient_count]} (#{group[:percent]}%)", details_warehouse_reports_health_housing_status_index_path(to_query(group[:active_ids])), data: {loads_in_pjax_modal: true}
          %td.text-center
            - group = body[:shelter]
            = link_to_if group[:active_ids].present?, "#{group[:active_ids].count} of #{group[:patient_count]} (#{group[:percent]}%)", details_warehouse_reports_health_housing_status_index_path(to_query(group[:active_ids])), data: {loads_in_pjax_modal: true}
          %td.text-center
            - group = body[:doubling_up]
            = link_to_if group[:active_ids].present?, "#{group[:active_ids].count} of #{group[:patient_count]} (#{group[:percent]}%)", details_warehouse_reports_health_housing_status_index_path(to_query(group[:active_ids])), data: {loads_in_pjax_modal: true}
          %td.text-center
            - group = body[:temporary]
            = link_to_if group[:active_ids].present?, "#{group[:active_ids].count} of #{group[:patient_count]} (#{group[:percent]}%)", details_warehouse_reports_health_housing_status_index_path(to_query(group[:active_ids])), data: {loads_in_pjax_modal: true}
          %td.text-center
            - group = body[:permanent]
            = link_to_if group[:active_ids].present?, "#{group[:active_ids].count} of #{group[:patient_count]} (#{group[:percent]}%)", details_warehouse_reports_health_housing_status_index_path(to_query(group[:active_ids])), data: {loads_in_pjax_modal: true}

